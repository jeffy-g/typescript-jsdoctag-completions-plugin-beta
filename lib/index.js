(()=>{"use strict";var e={537:e=>{e.exports=e=>{if('object'!=typeof e||null===e)throw new TypeError('Expected an object');const t={};for(const[o,n]of Object.entries(e))t[n]=o;for(const o of Object.getOwnPropertySymbols(e)){t[e[o]]=o}return t}},846:(e,t,o)=>{const n=o(537),s=o(565),r=n(s);t.D=e=>{if('number'!=typeof e)throw new TypeError('Expected a number');return s[e]},new Proxy(r,{get(e,t){const o=e[t];if(o)return Number(o)}})},288:(e,t,o)=>{o.r(t),o.d(t,{osLocale:()=>v});var n=o(846);const s=require("child_process"),r="en_US",i=async(e,t)=>await new Promise((o=>{(0,s.execFile)(e,t,((e,t)=>{o(e||t)}))})),c=(e,t)=>{try{return(0,s.execFileSync)(e,t)}catch(e){return e}};function a(e,t){return"string"==typeof e&&e.length?t?t(e):e.trim():r}
const l=(e=process.env)=>e.LC_ALL||e.LC_MESSAGES||e.LANG||e.LANGUAGE||"";function _(e){const t=e.split("\n").reduce(((e,t)=>{const[o,n]=t.split("=");return o&&n&&(e[o]=n.replace(/^"|"$/g,"")),e}),{});return l(t)}const g=e=>e&&e.replace(/[.:].*/,"")||r,p=(e,t)=>t.includes(e)?e:r,[d,u]=(f="defaults",m=["read","-globalDomain","AppleLocale"],h="locale",$=["-a"],[async()=>{const e=await Promise.all([i(f,m).then((e=>a(e))),i(h,$).then((e=>a(e)))]);return p(e[0],e[1])},()=>p(a(c(f,m)),a(c(h,$)))]);var f,m,h,$;const y=async()=>g(_(await i("locale").then((e=>a(e))))),S=()=>g(_(a(c("locale")))),N=e=>{const t=parseInt(e.replace("Locale",""),16);return n.D(t)},[C,b]=((e,t)=>[async()=>a(await i(e,t),N),()=>a(c(e,t),N)])("wmic",["os","get","locale"]);let P;{const e=[{win32:b,darwin:u,linux:S},{win32:C,
darwin:d,linux:y}],t={}.toString,o=e=>"[object Promise]"===t.call(e);let n;const s=t=>(s={})=>{const r=(s={spawn:!0,cache:!0,...s}).cache;if(r&&(null==n?void 0:n.length))return t?Promise.resolve(n):n;const i=e[+!!t];let c;const a=(e,t)=>(e=e.replace(/_/,"-"),n=r?e:void 0,t?Promise.resolve(e):e),_=l();if(_||!s.spawn)c=g(_);else{let{platform:e}=process;"win32"!==e&&"darwin"!==e&&(e="linux"),c=i[e]()}return o(c)?c.then((e=>a(e))):a(c,!0===t||void 0)};P=s(!0),P.sync=s(),Object.defineProperties(P,{purge:{value:()=>n=void 0,enumerable:!1},version:{value:"v1.0.8",enumerable:!0}})}const v=Object.freeze(P)},341:(e,t,o)=>{
/*!
 * For license information please see licenses.txt
 */
const n=o(618),s=o(328),r=o(524),i=o(976),c=new s,a={preset:"default",verbose:!0},l=r.PLUGIN_NAME;let _;function g(e){const{project:t,languageService:o,serverHost:s,config:r}=e;if(s.args.includes("--serverMode"))return t.projectService.logger.info("This plugin is needless for the tsserver<syntax> process, so it returns the original language service"),o;let _;i.setLogger(r.verbose&&t.projectService.logger||void 0);const g=t.projectName;let p;return i.log(`${l} - lookup service instance, config - ${JSON.stringify(r,null,2)}`),_=c.get(t),_?p=`${l} - reuse service for ${g}`:(_=new n(o),c.set(t,_),p=`${l} - created new service instance for ${g}`),i.log(p+`, cache size=${c.size}`),_.update(t,r,a.locale),_.getService()}function p(e){
i.log(`${l}::onConfigurationChanged config - ${JSON.stringify(e,null,2)}`);const{preset:t="default",verbose:o=!0,locale:s,vscode:_}=e;a.preset=t,a.verbose=o,a.locale=s,_&&(n.mode=1);const g=`${l}::onConfigurationChanged -`,p=s||r.getNativeLocale();i.log(`${g} check serviceCache`),c.forEach(((e,o)=>{const n=o.projectName;let s;e.projectHasLocale?s=`${g} project has locale setting. locale: [${e.locale}], project:${n}`:(s=`${g} locale force applying, old=${e.locale}, new=${p} to project:${n}`,e.locale=p),i.log(s),e.projectHasPreset?s=`${g} project has preset setting. preset: [${e.currentPreset}], project:${n}`:(s=`${g} global preset force applying, preset=${t} to project:${n}`,e.setPreset(t)),i.log(s),_&&!e.vscode&&e.notifyToVscodeExtension()}))}e.exports=()=>_||(_={create:g,
onConfigurationChanged:p})},364:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.JSDoc=void 0;const n=o(529),s=o(976),r=o(524),i=o(752);function c(e){return function(e,t){return{text:e,kind:n.SymbolDisplayPartKind[t]}}(e,n.SymbolDisplayPartKind.text)}const a=(e,t)=>{t=t||{isBlock:!0};const o=[],s=e.entries(t.isBlock);for(let e=0;e<s.length;){const r=s[e];let i=r.name;!t.asTagName&&(i="@"+i);const c={name:i,kind:n.ScriptElementKind.keyword,kindModifiers:"",sortText:"1",isRecommended:!0};r.snippet&&(c.insertText=("@"===i[0]?"@":"")+r.snippet,c.isSnippet=!0),o[e++]=c}return o};const l=e=>{const t="@"===e[0];return[t,t?e.substring(1):e]};const _=e=>{if(/\n/.test(e)){const t=e.split("\n");e="";for(let o=0,n=t.length;o<n;){e+=`\`${t[o++]}\`${o===n?"":"  \n"}`}return e}
return`\`${e}\``};const g=(e,t)=>{const o=e.getChildren();for(let e=0,s=o.length;e<s;){const s=o[e++];if(t>=s.pos+4&&t<s.end-2)return s.flags&n.NodeFlags.JSDoc&&s.kind===n.SyntaxKind.JSDocComment?s:g(s,t)}},p=`${r.PLUGIN_NAME}::getCompletionData`;t.JSDoc={createRuntimeCache:function(e){let t,o,n,s;return{getJSDocTagNameCompletions:()=>t||(t=a(e,{isBlock:!0,asTagName:!0})),getInlineJSDocTagNameCompletions:()=>n||(n=a(e,{asTagName:!0})),getJSDocTagCompletions:()=>o||(o=a(e)),getInlineJSDocTagCompletions:()=>s||(s=a(e,{isBlock:void 0}))}},recognizeTagKind:function(e,t,o){const[n,s]=l(e);if(t.tagNames(o).find((e=>e===s)))return{kind:(n?1:0)+(o?0:2)}},getCompletionsByKind:function(e,t){if(e){let o;switch(e.kind){case 0:o=t.getJSDocTagNameCompletions;break;case 1:o=t.getJSDocTagCompletions;break
;case 2:o=t.getInlineJSDocTagNameCompletions;break;case 3:o=t.getInlineJSDocTagCompletions}return o&&{isGlobalCompletion:!1,isMemberCompletion:!1,isNewIdentifierLocation:!0,entries:o()}||void 0}},getJSDocTagCompletionDetails:function(e,t,o,r){const i=t.kind<=1||void 0,[,a]=l(e);let g;const p=o.entries(i).find((e=>e.name===a)),d=p&&n.ScriptElementKind.keyword||n.ScriptElementKind.unknown;if(s.log(`getJSDocTagCompletionDetails - find entry=[${JSON.stringify(p)}]`),p){const e=p.synonyms,t=p.document(r)||"no document",n=p.syntax,s=o.getExtraInfo(a,i);g=[{text:`${t}\n\n${e?`Synonyms: ${e.map((e=>"@"+e)).join(", ")}\n\n`:""}\n\n${n?`Syntax:  \n_${_(n)}_\n\n`:""}${s||""}`,kind:"jsdoctag-documentation"}]}return{name:e,kind:d,kindModifiers:"",displayParts:[c(e)],documentation:g}},
getCompletionData:function(e,t,o){const n=g(e,t);if(n){const c=e.text.substring(n.pos,n.end),a=(0,r.findLineStartFrom)(c,t-n.pos),l=c.substring(a,t-n.pos),_=s.isAvailable;_&&s.log(`${p} - jsdoc fragment: [${c}] detected line fragment: "${l}"`),o.lastIndex=0;const g=o.exec(l);if(_&&s.log(`${p}::match {${i.toHumanReadable(g)}}\n regex.lastIndex=${o.lastIndex}`),g){const[,,,e,t,n,s,r,i,c]=g;let a,_=!n&&!r||void 0;if(_)o.lastIndex===l.length&&(a=c?0:1);else{if(e&&!t)return;const o=/\s+\S*/g;if(o.lastIndex=l.lastIndexOf("{"),o.test(l))return;a=s||i?2:3}if(void 0!==a)return{kind:a,isProbablyBlockType:_}}}}}},618:(e,t,o)=>{const n=o(529),s=o(364),r=o(752),i=o(524),c=o(976),a=o(735),l=o(307),_=Object.create(null),g=(e,t)=>e.getProgram()?.getSourceFile(t);class p{constructor(e){this._reload=-1,
this._init(e)}get currentPreset(){return this._currentPreset}_updatePresetContext(e="default"){this._currentPreset!==e&&(this._currentPreset=e,(async e=>{let t=_[e];if(!t){let o;if(o=await a("default"===e||"closure"===e?`./preset/${e}`:e),"function"!=typeof o)throw new Error("Invalid preset entry point, cannot create preset interface!");const n=o();if(!(0,i.isPresetInterface)(n))throw new Error("Invalid preset interface!");const r=s.JSDoc.createRuntimeCache(n);_[e]=t={preset:n,rtCache:r}}return t})(e).then((e=>{this._reJSDocTagDetector=r(e.preset),this._presetContext=e,c.log(`createJSDocTagDetectionRegex, regex=[${this._reJSDocTagDetector}]`)})))}_init(e){const t=this.constructor.name,o=e.getCompletionsAtPosition.bind(e);e.getCompletionsAtPosition=(n,r,i={})=>{
c.log(`${t}::getCompletionsAtPosition - ${n}, position:${r}, options: [${Object.entries(i)}]`);const a=g(e,n);if(a){const e=s.JSDoc.getCompletionData(a,r,this._reJSDocTagDetector);if(e)return s.JSDoc.getCompletionsByKind(e,this._presetContext.rtCache)}return o(n,r,i)};const n=e.getCompletionEntryDetails.bind(e);e.getCompletionEntryDetails=(o,r,i,a,l,_)=>{c.log(`${t}::getCompletionEntryDetails ${o}, ${r}, ${i}`);const p=g(e,o);if(p){const e=s.JSDoc.getCompletionData(p,r,this._reJSDocTagDetector);if(c.log(`${t}::getCompletionEntryDetails getCompletionData request=${JSON.stringify(e)}`),e){const o=this._presetContext.preset,n=s.JSDoc.recognizeTagKind(i,o,e.isProbablyBlockType);if(c.log(`${t}::getCompletionEntryDetails recognizeTagKind, request.kind: ${e.kind}, tagKind.kind: ${n&&n.kind}`),
n&&e.kind===n.kind)return s.JSDoc.getJSDocTagCompletionDetails(i,e,o,this.locale)}}return n(o,r,i,a,l,_,void 0)};const r=e.getQuickInfoAtPosition.bind(e);e.getQuickInfoAtPosition=(e,o)=>{c.log(`${t}::getQuickInfoAtPosition ${e}, ${o}`);const n=r(e,o);return((e,t)=>{if(t)return(t.displayParts||(t.displayParts=[])).push({kind:"",text:e}),t})(this._betaMark,n)};const i=e.dispose.bind(e);e.dispose=()=>{c.log(`${t}::disposing...`),this.dispose(),i()},this._tsLs=e}notifyToVscodeExtension(e){if(1===p.mode){this.vscode=!0;const t=this._projectName;console.log(`${i.PLUGIN_NAME}::notifyToVscodeExtension - ${t}`),(0,l.sendMessage)({projectName:t,timeStamp:Date.now(),reload:this._reload,locale:this.locale,closed:e})}}update(e,t,o){const s=()=>{
(e=>e.projectKind===n.server.ProjectKind.Configured)(e)&&c.log(`${_}, Configured Project detected, locale=[${this.locale}], "${d}"`),this._reload++,(t.global||t.vscode)&&(p.mode=1,this.notifyToVscodeExtension())},{locale:r,plugins:a}=e.getCompilerOptions();let l;const _=`${this.constructor.name}::update`,g=(0,i.findPluginConfig)(a);c.log(`${_} - projectLocale="${r}", preferredLocale - "${o}", config=[${JSON.stringify(g||t,null,2)}]`);{const e=g?.preset;this.projectHasPreset=!!e||void 0,l=e||t.preset}const d=e.projectName;this._projectName=d;let u=!1;this.projectHasLocale=!!r||void 0,r?(this.locale=r,c.log(`${_} - Locale is set for this project, hasLocale=${this.projectHasLocale}, hasPreset=${this.projectHasPreset} "${d}"`)):(u=!0,c.log(`${_} - run tryToLocaleDecision`),(0,
i.tryToLocaleDecision)(o||"",(e=>{this.locale=e,c.log(`${_} tryToLocaleDecision - locale detected->[${e}], hasLocale=${this.projectHasLocale}, hasPreset=${this.projectHasPreset} "${d}"`),s()}))),this._updatePresetContext(l||void 0),this._betaMark=` (${g?.betaMark||t.betaMark||"ℹ️"} - ${d})`,!u&&s()}setPreset(e){this.projectHasPreset||this._updatePresetContext(e)}getService(){return this._tsLs}dispose(){this._tsLs=void 0,this._presetContext=void 0,this._reJSDocTagDetector=void 0,this.notifyToVscodeExtension(!0)}}p.mode=0,e.exports=p},752:(e,t,o)=>{const n=o(524),s=e=>"string"==typeof e?e.replace(/\s/g,""):e.join("|"),r=e=>{const t=s(e.marker),o=s(e.simple),n=s(e.complexity)
;return new RegExp(`^(?:\\s*\\/\\*\\*\\s+|\\s+\\*?\\s+)(?:(?=@(${t}))|(?=(?:(?:@(${o})\\s+)|(?:@(${n})\\s+(?:\\{(?:\\s*\\{)?(?:[^}]+)?(?:\\}\\s*)?\\})?\\s*((?:\\[\\s*)?[\\w.]+(?:\\s*\\])?)?))(?:.*(\\{)(@(?:\\w+)?)?)?)|(?!\\s*[\\*+->\`]*\\s*@\\w+).*(\\{)(?:(?![^@]))(@(?:\\w+)?)?|)(@(?:\\w+)?)?`,"g")},i=n.template`
$0: [${"0"}]
$1:?<markertag>:     [${"1"}]
$2:?<simpletag>:     [${"2"}]
$3:?<complexitytag>: [${"3"}]

$4:?<complexityContent>: [${"4"}]

$5:?<nestedInlineStartBrackets>: [${"5"}]
$6:?<nestedInlineTriggers>:      [${"6"}]

$7:?<inlineStartBrackets>: [${"7"}]
$8:?<inlineTriggers>:      [${"8"}]

$9:?<triggers>: [${"9"}]
`;r.toHumanReadable=e=>e&&null!==e?i(e):"!null or undefined",e.exports=r},328:e=>{class t extends Map{set(e,t){if(super.set(e,t),!e.__modified__){const t=e.close.bind(e),o=this;e.close=function(){this.projectService.logger.info(`${this.projectName} closing...`),t(),o.delete(this)},e.__modified__=!0}return this}}e.exports=t},524:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.template=t.isPresetInterface=t.findPluginConfig=t.findLineStartFrom=t.getNativeLocale=t.tryToLocaleDecision=t.PLUGIN_NAME=void 0;const n=o(288),s=o(976);t.PLUGIN_NAME="typescript-jsdoctag-completions-plugin";let r="en",i=!1;function c(e){let[,t="en",o]=/^([a-z]{2})(?:[_\-]([a-z]{2}))?$/.exec(e.toLowerCase())||[];return("zh"===t||"pt"===t)&&o&&(t+="-"+o),t}t.tryToLocaleDecision=function(e,o){
"string"==typeof e&&e.length?o(c(e)):(s.log(`${t.PLUGIN_NAME}::tryToLocaleDecision - isLocaleDetected=${i}, nativeLocale=[${r}]`),i?o(r):(0,n.osLocale)().then((e=>{r=c(e),i=!0,s.log(`${t.PLUGIN_NAME}::tryToLocaleDecision - isLocaleDetected=${i}, lc=[${e}], nativeLocale=[${r}]`),o(r)})))};t.getNativeLocale=()=>r,t.findLineStartFrom=function(e,t){for(let o=t;o>0;){const t=e[--o];if("\n"===t||"\r"===t)return o+1}return 0};t.findPluginConfig=e=>{if(e&&e.length){let o,n=!1;for(let s=0,r=e.length;s<r;)if(o=e[s++],o.name===t.PLUGIN_NAME){n=!0;break}if(n)return s.log(`${t.PLUGIN_NAME}::findPluginConfig - found plugin config!`),o}};t.isPresetInterface=e=>{if("object"==typeof e&&e){let t=+("marker"in e);return t&=+("simple"in e),t&=+("complexity"in e),t&=+("function"==typeof e.getExtraInfo),
t&=+("function"==typeof e.tagNames),t&=+("function"==typeof e.entries),!!t}return!1};t.template=(e,...t)=>(...o)=>{const n=o[o.length-1]||Object.create(null);let s=e[0];for(let r=0,i=t.length;r<i;){const i=t[r];s+=(Number.isInteger(i)?o[i]:n[i])+e[++r]}return s}},307:e=>{e.exports=require("./communication")},735:e=>{e.exports=require("./import-module")},976:e=>{e.exports=require("./logger")},529:e=>{e.exports=require("typescript/lib/tsserverlibrary")},565:e=>{
e.exports=JSON.parse('{"4":"zh_CHS","1025":"ar_SA","1026":"bg_BG","1027":"ca_ES","1028":"zh_TW","1029":"cs_CZ","1030":"da_DK","1031":"de_DE","1032":"el_GR","1033":"en_US","1034":"es_ES","1035":"fi_FI","1036":"fr_FR","1037":"he_IL","1038":"hu_HU","1039":"is_IS","1040":"it_IT","1041":"ja_JP","1042":"ko_KR","1043":"nl_NL","1044":"nb_NO","1045":"pl_PL","1046":"pt_BR","1047":"rm_CH","1048":"ro_RO","1049":"ru_RU","1050":"hr_HR","1051":"sk_SK","1052":"sq_AL","1053":"sv_SE","1054":"th_TH","1055":"tr_TR","1056":"ur_PK","1057":"id_ID","1058":"uk_UA","1059":"be_BY","1060":"sl_SI","1061":"et_EE","1062":"lv_LV","1063":"lt_LT","1064":"tg_TJ","1065":"fa_IR","1066":"vi_VN","1067":"hy_AM","1069":"eu_ES","1070":"wen_DE","1071":"mk_MK","1074":"tn_ZA","1076":"xh_ZA","1077":"zu_ZA","1078":"af_ZA","1079":"ka_GE","1080":"fo_FO","1081":"hi_IN","1082":"mt_MT","1083":"se_NO","1086":"ms_MY","1087":"kk_KZ","1088":"ky_KG","1089":"sw_KE","1090":"tk_TM","1092":"tt_RU","1093":"bn_IN","1094":"pa_IN","1095":"gu_IN","1096":"or_IN","1097":"ta_IN","1098":"te_IN","1099":"kn_IN","1100":"ml_IN","1101":"as_IN","1102":"mr_IN","1103":"sa_IN","1104":"mn_MN","1105":"bo_CN","1106":"cy_GB","1107":"kh_KH","1108":"lo_LA","1109":"my_MM","1110":"gl_ES","1111":"kok_IN","1114":"syr_SY","1115":"si_LK","1118":"am_ET","1121":"ne_NP","1122":"fy_NL","1123":"ps_AF","1124":"fil_PH","1125":"div_MV","1128":"ha_NG","1130":"yo_NG","1131":"quz_BO","1132":"ns_ZA","1133":"ba_RU","1134":"lb_LU","1135":"kl_GL","1144":"ii_CN","1146":"arn_CL","1148":"moh_CA","1150":"br_FR","1152":"ug_CN","1153":"mi_NZ","1154":"oc_FR","1155":"co_FR","1156":"gsw_FR","1157":"sah_RU","1158":"qut_GT","1159":"rw_RW","1160":"wo_SN","1164":"gbz_AF","2049":"ar_IQ","2052":"zh_CN","2055":"de_CH","2057":"en_GB","2058":"es_MX","2060":"fr_BE","2064":"it_CH","2067":"nl_BE","2068":"nn_NO","2070":"pt_PT","2077":"sv_FI","2080":"ur_IN","2092":"az_AZ","2094":"dsb_DE","2107":"se_SE","2108":"ga_IE","2110":"ms_BN","2115":"uz_UZ","2128":"mn_CN","2129":"bo_BT","2141":"iu_CA","2143":"tmz_DZ","2155":"quz_EC","3073":"ar_EG","3076":"zh_HK","3079":"de_AT","3081":"en_AU","3082":"es_ES","3084":"fr_CA","3098":"sr_SP","3131":"se_FI","3179":"quz_PE","4097":"ar_LY","4100":"zh_SG","4103":"de_LU","4105":"en_CA","4106":"es_GT","4108":"fr_CH","4122":"hr_BA","4155":"smj_NO","5121":"ar_DZ","5124":"zh_MO","5127":"de_LI","5129":"en_NZ","5130":"es_CR","5132":"fr_LU","5179":"smj_SE","6145":"ar_MA","6153":"en_IE","6154":"es_PA","6156":"fr_MC","6203":"sma_NO","7169":"ar_TN","7177":"en_ZA","7178":"es_DO","7194":"sr_BA","7227":"sma_SE","8193":"ar_OM","8201":"en_JA","8202":"es_VE","8218":"bs_BA","8251":"sms_FI","9217":"ar_YE","9225":"en_CB","9226":"es_CO","9275":"smn_FI","10241":"ar_SY","10249":"en_BZ","10250":"es_PE","11265":"ar_JO","11273":"en_TT","11274":"es_AR","12289":"ar_LB","12297":"en_ZW","12298":"es_EC","13313":"ar_KW","13321":"en_PH","13322":"es_CL","14337":"ar_AE","14346":"es_UR","15361":"ar_BH","15370":"es_PY","16385":"ar_QA","16394":"es_BO","17417":"en_MY","17418":"es_SV","18441":"en_IN","18442":"es_HN","19466":"es_NI","20490":"es_PR","21514":"es_US","31748":"zh_CHT"}')
}},t={};function o(n){var s=t[n];if(void 0!==s)return s.exports;var r=t[n]={exports:{}};return e[n](r,r.exports,o),r.exports}o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{'undefined'!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:'Module'}),Object.defineProperty(e,'__esModule',{value:!0})};var n=o(341);module.exports=n})();